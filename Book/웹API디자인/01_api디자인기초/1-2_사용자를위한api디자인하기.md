# 사용자를 위한 Api 디자인하기

- 어떤 관점으로 api를 디자인해야하는가?
- 사용자 인터페이스를 디자인하듯 api 디자인하는 법
- api의 실제 목표를 정확하게 결정하는 법


api는 우리가 마주하는 모든 일상 속 사용자 인터페이스들이 그러하듯 사용자들의 목표를 달성하기 위해 존재한다.

서로 연관된 포괄적인 요구사항들을 정리할 수 있도록 컨슈머의 관점에 중점을 둬야함.
api 사용자의 관점과 api를 소비하는 컨슈머 소프트웨어의 입장으로 생각해야함.


## 2.1 일상 속 사용자 인터페이스를 디자인하는 올바른 관점

인터페이스와 api를 디자인하는데 가장 중요한 것
- 올바른 입장, 올바른 관점을 선택하는 것
어렵다면 현실 세계로 생각하고 따져본다면 노골적이다 싶을 정도로 명백해지고 두 가지 관점이 api디자인에 어떤 영향을 미칠 수 있는지 알게됨.


디자인적 재앙을 고치는 방법은?? 
- 사용자가 할 수 있는 일에 집중하면 인터페이스는 단순해진다. 22페이지
api는 기본적으로 소프트웨어를 위한 제어판과 같아서 우리 일상에서 접하는 인터페이스와 똑같은 규칙을 적용받는다. 24페이지

## 2.2 소프트웨어 인터페이스  디자인 방법

소프트웨어가 어떻게 동작하는지에 집중하기 시작하면 재앙이 벌어짐. 사용자가 할수 있는지에 집중해야함. 사용자가 무엇을 하는지 중점을 두면 현실세계 사물의 사례에서 봤듯이 모든것이 부드럽게 흘러갈것.

api는 반드시 컨슈머의 관점에서 디자인 되어야함. 프로바이더의 관점이 아니라. 27페이지



컨슈머가 사용할 떄 달성할 수 있는 목표가 무엇인지 명확하게 식별하는게 중요한데ㅣ
어떻게 컨슈머의 목표를 정확하고 철저하게 알아낼 수 있을까?

- 누가 api를 사용하는가ㅣ?
- 무엇을 할 수 있는가?
- 하기 위해서 무엇이 필요한가?
- 끝나면 무엇을 반환하는가?


api를 목표 목록으로 결정할 때 자문해야 할 기본적인 질문  가지는? 29 페이지
- 모든 사용자를 식별하고 다른 무엇을을 누락시키지 않기위한 질문 : 누가 사용자인가?
- 사용자가 무엇을 할 수 있는가?
- 사용자가 어떻게 하는가?
- 입력에 대한 새로운 질문: 그것을 하기위해 무엇이 필요한가?
- 출력에 대한 새로운 질문: 그들은 무엇을 반환받는가?
- 누락된 목표를 식별하기 위한 질문 :입력은 어디를 통해서 들어오는가?
- 누락된 목표를 식별하기 위한 질문: 출력은 어디에서 쓰이는가?

이 질문으로 얻을 수 있는 것은?
api로 무엇을 할 수있는지 대략 알수있게되고 어떻게 해내는지 단계별로 나눌 수 있게됨.
이 질문에 대한 답이 곧 api의 목표가됨.

목표는 반드시 단계별로 분리가 되어야함.
안 그럼 일부 목표를 놓치게 됨.

무엇은 여러 개의 어떻게로 분리된다.

목표를 달성하기 위해서 무엇이 필요한지와 우리에게 ㅁ어떤 것들이 반환되어 돌아올지도 알아야함.



api 목표  캔버스란?

여섯 개의 열로  이루어진 표로, 조사과정을 대입 시킨 표 -38페이지
- 누가 : api를 사용하는 사용자들을 나열
- 무엇을 : api로 사용자들이 할수있는 것을 나열
- 어떻게 : 무엇을 단계별로 분해해 나열
- 입력: 각 단계를 진행하기 위해  필요한 요소들과 그것들의 원천을 나열 
- 출력(사용처) : 각 단계의 반환과 그 쓰임새의 나열
- 목표 : 명시적이고 간결하게 각각의 어떻게 + 입력 + 출력을 재구성

식별된 목표들을 바탕으로 프로그래밍 인터페이스를 디자인하기 위해 필요한 기본 정보들


복잡한 컨텍스트일 경우 api를 채울 수 있는 방법은?
(너무 많은 사용자나 프로파일 또는 너무 많은 유즈케이스가 있는 경우)
한 번에 모든 유즈케이스를 다루려고 하면 안 되고 작은 유즈케이스 집합에 집중하라.
특정 목표가 지나치게 많은 단계를 포함하고 있거나 지나치게 많은 분기를 포함하고 있다면, 핵심 흐름에 집중하라
그런 뒤 흐름들에서 새로운 목표로 이어지는 변경 가능한 요소가 있는지 확인하라
핵심 사용자 또는 핵심 프로파일에 집중하라.
그런 뒤 나머지 것들에 연결할 수 있는 변경요소가 있는지 확인하라


api 디자인에서 왜 프로바이더 관점을 피해야하는가? 41페이지

api디자인은 프로바이더 관점의 다양한 측면에 영향을 받을 수 있다.
api 목표 리스트와 데이터가 우리의 데이터베이스와 구조나 이름 등으로 밀접하게 연관되어있을 경우
api를 프로바이더 관점을 ㅗ디자인하고있을 가능성이 높다.
이런경우 즉시 api의 ㅅ아ㅛㅇ자들이 정말 이런 이런 세부요소에 접근할 필요가 있는지 재확인하라

데이터 중심의 두 목표를 상위 수준의 컨슈머 지지향적인 목표로 대쳏하는게 이해하기도 쉽고 사용하기도 좋다. 43페이지

내부의 비즈니스 로직을 노출하는 것은 api의 컨슈머가 이해하기도 어렵도 사용하기도 어렵다. 프로바이더에게도 위험하다.
api 목표 캔버스를 이용해 사용자들이 무엇을 할 수 있는지에 집중하면 쉽게 이럳한 디자인 문제를 회피할 수 있따.
(여전히 문제가 발생할 가능성은 존재함)


프로바이더 관점의 여러가지면 47페이지
데이터, 비즈니스 로직, 소프트웨어,아키텍처, 인적조직

api는 누구 관점에서 디자인되어야하는가? 컨슈머의 관점



