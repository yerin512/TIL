# 컨텍스트에 맞는 API 디자인하기

- 목표와 데이터에 맞게 커뮤니케이션 적용하기
- 컨슈머와 프로바이더의 요구사항과 한계를 고려하기
- 컨텍스트에 맞는 API 스타일 선택하기


## 요약

- 단일 리퀘스트/리스폰스, 컨슈머 프로바이더 간 통신은 유일한 선택지가 아니다. 여러분들은 비동기 목표를 디자인할 수 도 있으며 
  컨슈머에게 이벤트를 발행할 수도 있으며, 데이터를 스트리밍 할 수도 있으며, 다양한 요소를 한 번의 호출로 처리할 수 도 있다.
- API를 디자인할 때 컨슈머의 컨텍스트를 고려해야한다. 여기에는 그들의 네트워크 환경과 행태, 그리고 제약사항도 포함된다.
- API를 디자인하려면 프로바이더의 제약사항을 신중하게 고려해 이를 조기에 발견해, 가급적이면 디자인에 영향을 미치지 않고 문제를 해결하고, 
  이것이 불가능한 경우에는 디자인을 적응시켜가며 문제를 해결해야한다.
- API를 디자인할 때 내면의 열정이나 개인의 취향은 억눌러야 한다. 
  여러분들이 좋아하거나 아는 특정 도구/디자인/방법들은 API가 해결해야 하는 모든 상황에 대해 이상적인 해법이 될 수 없다.
  
  
  
  ## 11.1 데이터와 목표와 성격에 맞는 커뮤니케이션 적용하기
  11.1.1 처리 시간이 오래 걸리는 작업 관리하기
  11.1.2 컨슈머에게 이벤트 알리기
  11.1.3 이벤트 흐름 스트리밍 하기
  11.1.4 여러 요소 관리하기
  
  ## 11.2 전체 컨텍스트 이해하기
  11.2.1 컨슈머의 기존 관행과 제약사항 숙지하기
  11.2.2 프로바이더의 한게를 신중하게 고려하기
  
  ## 11.3 컨텍스트에 맞는 API 스타일 선택하기
  11.3.1 리소스, 데이터, 함수 기반 API 비교
  11.3.2 리퀘스트/리스폰스와 HTTP 기반의 API 넘어서 생각하기

---

질문 : 폴링이란? 336
컨슈머가 반복적으로 API를 호출하며 '이 송금 아직도 안 끝났나요?'와 같이 호출하는 것.
이 폴링은 컨슈머나 프로바이더 양쪽 모두에게 성가신 방법임. 불필요한 호출이 빈번하게 발생하게 됨.

질문 : 웹훅이란? 336
컨슈머/프로바이더 통신 방향을 역으로 뒤집는 것
이는 종종 리버스 api라고 불리기도함.

질문 : 웹훅 api를 디자인할 때 어떻게 해야하나요 337
프로바이더 관점을 지양해야하며 사용 가능하고 발전 가능하게 디자인해야합니다.

질문: websub이란? 339
모든 종류의 웹 컨텐츠 게시자와 구독자 간 통신을 위해 http 웹훅에 기반한 공통 메커니즘을 제공함
기본적으로 websub 추천은 어떻게 api 프로바이더가 이벤트를 외부에 공개하고 컨뮤거들이 이벤트를 수신하기 위해 등록하는 안전한 방법에 대해 다루고 있음

SERVER SENT EVENTS
질문 : SSE에 대해 알아야할 4가지 사항 343

질문 : 단방향 통신만 지원하는 SSE대신 채팅봇같은 기능을 작업할 땐 무엇을 사용하나요? 344
웹소켓. 
인프라쪽에서 해줘야하는게 많다는 게 뭔지...아시는분?


질문: 207 상태코드가 가능하게 해주는 것은? 347 348
새로운 메서드, 헤더 미디어타입 그리고 상태들로 여러 리소스를 관리하기 용이하게 하고
특히 여러 리소스를 한 번의 호출로 관리하게 쉽게해준다.
-> 이걸 코드숨에 새로운 기능 추가할 경우가 있을까?


질문: 비기능적 요구사항이란? 352
기본적으로 API 목표와 데이터가 어떻게 표현될 것인지에 대한 이야기
