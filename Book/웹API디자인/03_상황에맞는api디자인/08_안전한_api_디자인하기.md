# 안전한 API디자인 하기.

- api 보안과 api 디자인의 교차점
- 접근 제어를 위한 사용자 친화적인 스코프 정의
- 접근 제어를 충족시키기 위해 api 디자인 적용
- 민감한 정보를 처리하기 위한 api 디자인 적용

요약 : 
- api 디자이너는 공격이 발생할 수 있는 영역을 최소화하여 api 보안에 크게 기여해야합니다.
- api는 정말  필요한 것들만 요청하고, 정말 보여줘야 하는 것들만 외부에 노출해야합니다.
- 컨슈머들은 그들에게 정말로 필요한 것들만 접근할 수 있어야 합니다.
- 보안을 활성화 하기 위해 api디자인은 반드시 사용자 관점에서 출발해야하며, 데이터는 접근 제어가 필요하다는 사실을 명심해야합니다.
- 민감한 데이터와 목표의 범위는 매우 넓습니다. 떄론 민감한 것이 무엇인지 확실치 않ㅇ늘 때는 기술, 보안, 비즈니스, 법률 전문가에게 도움을 청해야합니다.
- api 디자이너는 안전한 api 디자인을 위해 사용하는 아키텍처와 프로토콜의 잠재적 위험요소에 주의를 기울여야합니다.


---


질문 : 프로바이더의 시스템 데이터 취급 관점이 컨슈머에게까지 전달됐을 때 벌어지는일은? 218페이지
api 응답만 뒤적이다가도 리스폰스에 노출된 민감한 정보가 발견되어 해킹당할 수 있다.

질문 : 안전한 api디자인을 하기위해 프로바이더 컨슈머 수준이 아니라 최종 사용자까지 고려하는 과정 세 단계 220페이지~225페이지

1. 컨슈머 등록하기
2. api사용을 위해 자격증명 가져오기
3. api호출하기


질문 : api 디자인 보안적 측면에서 접근제어를 더 활성화 시키기 위해 어떻게 api를 분할해야할까요?
227~238

1. 유연하고 정제된 스코프 정의하기
2. 단순하지만 더 굵직한 스코프로 정의하기
3. 스코프 전략 선택하기
4. api명세 포맷으로 스코프 정의하기

질문 : 스코프란? 221
api에 속한 하나에서 여러 목표들을 말함

질문: 개발자 포털이란? 220
웹 사이트로 문서와 예제 FAQ, 포럼, 지원, 그 외의 유용한 여러가지 자원이나 도구들을 제공해 api에 대해 이해하고 어떻게 사용하느니 알수 있게해줌. 또한 api 사용 이력에 대한 정보를 제공해주기도함.
개발자들은 스스로 api 포털의 사용자로 등록할수 있어야함.


질문: 접근제어를 고려한 설계를 하려면 필요한 것
238 ~241
1. 접근 제어에 필요한 데이터 이해하기
2. 필요에 따른 디자인 조정

질문 : OAuth 2.0인증 프레임워크란?
리소스 소유자와 http 서비스간의 상호 승인 작용을 조정하여 제한된 서드파티 애플리케이션이 http 서비스를 이용해 액세스를 사용할 수 있게해주거나 타사 애플리케이션이 자체적으로 액세스 권한을 얻도록 허용함
어떻게 사용자가 인증되는지에 대한 정보는 일절 제공하지않음.

TLS란? 224
전송계층레이어 보안
Transport Layer Security의 암호화로 데이터 지켜내자

질문: api를 통해 요청, 제공 또는 수행할 수 있는 작업에 민감한 요소가 포함되는지 확인 후 안전하게 디자인하는 방법.
242페이지

1. 민감한 데이터 취급하기
2. 민감한 목표 취급하기
3. 안전한 에러피드백 디자인하기

질문 : 안전한 api 디자인의 첫단계는? 요청받거나 제공하는 데이터에서 민감한 데이터를 식별하기 -243페이지
민감한 데이터라는 표현은 상당히 넓은 의미로 해석될 수 있음. 도메인이나  업계에 따라 다륵게 받아들일 수있음.

질문 : 민감 정보인 데이터를 적절하고 안전하게 ㅍ현하는 법 네가지 기법 245
1. 민감한 데이터지만 필수 요소가 아니면 제거한다.
2. 제거할 수 없다면 민감하지 않은 형태로 표현을 순화한다.
3. 구체적이고 민감한 값들을 모호해도 의미있는 값으로 교체한다.
4. 민감한 정보가 필요하고 암호화가 충분하지않다면 민감 정보 자체를 암호화한다.

질문: 민감한 목표의 두가지 유형은? 246페이지
민감한 데이터를 조작하고 그 결과로 민감한 동작을 유발하는 것


질문 : 안전한 REST HTTP API를 디자인할때 주의해야하는 점은? -253
경로 파라미터나 쿼리 파라미터에 로그로 남을 우려가 있ㅆ는 민감 정보는 포함하지 않도록 신중해야한다.
또, api 에서 사용하는 프로토콜이나 아키텍처 측면에서 항상 데이터 유출이 발생할 수 있는 부분이 있는지 확인해야한다.
잠재적으로 민감한 정보가 유출될 가능성이 있다면 예방할 수 있도록 api 디자인을 변경해야한다.